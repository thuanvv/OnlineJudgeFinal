<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发手册 | LDUOJ</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Ludong University Online Judge">
    
    <link rel="preload" href="/OnlineJudge/assets/css/0.styles.f8b8e28e.css" as="style"><link rel="preload" href="/OnlineJudge/assets/js/app.c560587a.js" as="script"><link rel="preload" href="/OnlineJudge/assets/js/2.c338de78.js" as="script"><link rel="preload" href="/OnlineJudge/assets/js/8.49df74fa.js" as="script"><link rel="prefetch" href="/OnlineJudge/assets/js/10.c599641c.js"><link rel="prefetch" href="/OnlineJudge/assets/js/11.18998a94.js"><link rel="prefetch" href="/OnlineJudge/assets/js/12.fcdb9498.js"><link rel="prefetch" href="/OnlineJudge/assets/js/13.8333d2a5.js"><link rel="prefetch" href="/OnlineJudge/assets/js/14.13943834.js"><link rel="prefetch" href="/OnlineJudge/assets/js/15.22085fbb.js"><link rel="prefetch" href="/OnlineJudge/assets/js/3.203d26f8.js"><link rel="prefetch" href="/OnlineJudge/assets/js/4.24426956.js"><link rel="prefetch" href="/OnlineJudge/assets/js/5.f8abbb3f.js"><link rel="prefetch" href="/OnlineJudge/assets/js/6.d13a9df4.js"><link rel="prefetch" href="/OnlineJudge/assets/js/7.fd0494b1.js"><link rel="prefetch" href="/OnlineJudge/assets/js/9.573849e6.js">
    <link rel="stylesheet" href="/OnlineJudge/assets/css/0.styles.f8b8e28e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OnlineJudge/" class="home-link router-link-active"><img src="/OnlineJudge/favicon.ico" alt="LDUOJ" class="logo"> <span class="site-name can-hide">LDUOJ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/OnlineJudge/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/OnlineJudge/deploy/" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="https://github.com/winterant/OnlineJudge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/OnlineJudge/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/OnlineJudge/deploy/" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="https://github.com/winterant/OnlineJudge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OnlineJudge/deploy/" class="sidebar-link">快速了解</a></li><li><a href="/OnlineJudge/deploy/deploy.html" class="sidebar-link">安装维护</a></li><li><a href="/OnlineJudge/deploy/network.html" class="sidebar-link">配置代理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>使用说明</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OnlineJudge/web/" class="sidebar-link">功能介绍</a></li><li><a href="/OnlineJudge/web/judge.html" class="sidebar-link">判题服务</a></li><li><a href="/OnlineJudge/web/spj.html" class="sidebar-link">特判方法</a></li><li><a href="/OnlineJudge/web/result.html" class="sidebar-link">判题结果</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OnlineJudge/develop/" aria-current="page" class="active sidebar-link">开发手册</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OnlineJudge/develop/#生产环境" class="sidebar-link">生产环境</a></li><li class="sidebar-sub-header"><a href="/OnlineJudge/develop/#本地开发" class="sidebar-link">本地开发</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="开发手册"><a href="#开发手册" class="header-anchor">#</a> 开发手册</h1> <blockquote><p>说明：系统在开发初期并没有考虑过多的开发原则，没有实现前后端分离，没有遵循RESTful标准等。
即日起，开发将尽最大可能地遵循<a href="https://github.com/winterant/restful-api-specification" target="_blank" rel="noopener noreferrer">前后端接口规范 - RESTful版<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <h2 id="生产环境"><a href="#生产环境" class="header-anchor">#</a> 生产环境</h2> <p><img src="/OnlineJudge/assets/img/lduoj-framework.a74f4634.jpg" alt="framework"></p> <p>生产环境目前采用<code>docker-compose</code>编排方式部署，包含4个镜像，分别是</p> <ul><li><code>winterant/lduoj:1.2</code>; <a href="https://github.com/winterant/OnlineJudge" target="_blank" rel="noopener noreferrer">Web端<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，基于Ubuntu20.04镜像构建；暴露80端口；</li> <li><code>winterant/judge:1.2</code>; <a href="https://github.com/winterant/judge" target="_blank" rel="noopener noreferrer">判题端<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，基于Ubuntu20.04镜像构建；</li> <li><code>mysql:8.0</code>; 官方镜像；</li> <li><code>redis:7.0</code>; 官方镜像；</li></ul> <p>编排启动的容器将以只读方式读取环境变量配置文件<code>lduoj.conf</code>（详情参考<a href="https://github.com/winterant/OnlineJudge/tree/deploy" target="_blank" rel="noopener noreferrer">deploy分支<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）。</p> <h2 id="本地开发"><a href="#本地开发" class="header-anchor">#</a> 本地开发</h2> <blockquote><p>开发前，请对<a href="https://learnku.com/docs/laravel/6.x" target="_blank" rel="noopener noreferrer">Laravel框架<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>具备一定的了解。</p></blockquote> <p>本地开发最简单的方法是按照生产环境的部署方式部署到本地电脑，注意Web端要把<code>/app</code>挂载到本地，然后在本地打开该目录进行开发即可。</p> <p>需要注意的问题：</p> <ul><li>修改配置文件需要使laravel框架重新加载才能生效；
<ul><li>在容器内执行<code>php artisan opimize</code>使配置被重新加载。</li></ul></li></ul> <p>如果希望向主仓库贡献代码，请先Fork<a href="https://github.com/winterant/OnlineJudge" target="_blank" rel="noopener noreferrer">主仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，开发完成后向主仓库<code>master</code>分支发起<code>Pull Request</code>即可。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/13/2022, 3:09:27 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/OnlineJudge/web/result.html" class="prev">
        判题结果
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/OnlineJudge/assets/js/app.c560587a.js" defer></script><script src="/OnlineJudge/assets/js/2.c338de78.js" defer></script><script src="/OnlineJudge/assets/js/8.49df74fa.js" defer></script>
  </body>
</html>
